#include "common.h"

float2 main(v2p_shadow_direct I) : SV_Target
{
	float depth = I.hpos.z;
	float2 moments;
	moments.x = depth;
	float dx = ddx(depth);
	float dy = ddy(depth);
	moments.y = depth * depth + 0.25 * (dx*dx + dy*dy);
	return moments;
}