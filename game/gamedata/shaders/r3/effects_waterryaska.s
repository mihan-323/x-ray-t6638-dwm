function normal (shader, t_base, t_second, t_detail)
	shader	:begin		("water","water")
    		:sorting	(2, false)
			:blend		(true,blend.srcalpha,blend.invsrcalpha)
			:zb			(true,true)
			:distort	(true)
			:fog		(true)

	shader:dx10texture("s_image", 			"$user$generic")
	shader:dx10texture("s_sspr_hash", 		"$user$sspr")
	shader:dx10texture("s_planar_color", 	"$user$planarcolor")
	shader:dx10texture("s_planar_color_ms", "$user$planarcolorms")
	shader:dx10texture("s_base", 			"water\\water_water")
	shader:dx10texture("s_nmap", 			"water\\water_normal")
	shader:dx10texture("s_foam", 			"water\\water_foam")
	shader:dx10texture("s_position", 		"$user$position")
	shader:dx10texture("s_depth",			"$user$depth")
	shader:dx10texture("s_depthms",			"$user$$user$msaadepth")
	shader:dx10texture("env_s0", 			"$user$sky0")
	shader:dx10texture("env_s1", 			"$user$sky1")
	shader:dx10texture("s_tonemap", 		"$user$tonemap")

	shader:dx10sampler("smp_base")
	shader:dx10sampler("smp_nofilter")
	shader:dx10sampler("smp_rtlinear")
	shader:dx10sampler("smp_linear")
end