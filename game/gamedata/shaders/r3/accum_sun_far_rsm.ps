#include "common.h"
#include "lmodel.h"

#define ACCUM_DIRECT
#include "shadow.h"

#include "rsm.h"

float3 main(v2p_volume I, float4 pos2d : SV_Position) : SV_Target
{
	float2 tc = I.tc.xy / I.tc.w;
	return rsm_accum_hashed(tc, pos2d);
	// return rsm_accum_hashed_new(tc, pos2d);
}